<!DOCTYPE html>
<html>
<head>
    <title>Jellyfish</title>
    
    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Rubik' rel='stylesheet' type='text/css'>
    
    <!-- Stylin -->
    <link href='../public/stylesheets/header_style.css' rel='stylesheet' type='text/css'>
    <link href='../public/stylesheets/form_style.css' rel='stylesheet' type='text/css'>
    
    <!-- Javascript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script type="text/javascript" src="../public/scripts/data.js"></script>

</head>

<body>
    
    <div id="header">
        <div id="prev">
            <a href="" id="prev_text">prev</a>
            </div>
        <div id="next">
            <a href="" id="next_text">next</a>
            </div>
<!--         <div id="page_title"></div>  -->   
        <div id="logo">JELLYWATCH</div>
    </div>
    

    <div id="form_div">
    <form id="form">

        <!-- #####################################
                JELLYFISH QUESTIONS 
        ##################################### --> 

        <div class="question_div visible" id="jellyfish_questions">

            <h4 class="question">How many of each species of jellyfish do you see?</h4>

                <br><input type="radio" name="none"> None

                <!-- Jellyfish Species -->

                <p class="species_name">Comb Jelly</p>
                <img src="../public/img/Comb_Jelly.jpg" class="image">
                <br><input type="radio" name="comb" value="1 - 10"> 1 - 10
                <br><input type="radio" name="comb" value="11 - 49"> 11 - 49
                <br><input type="radio" name="comb" value="51 - 100"> 51 - 100
                <br><input type="radio" name="comb" value=">100"> > 100

                <p class="species_name">Cigar Jelly</p>
                <img src="../public/img/Comb_Jelly.jpg" class="image">
                <br><input type="radio" name="cigar" value="1 - 10"> 1 - 10
                <br><input type="radio" name="cigar" value="11 - 49"> 11 - 49
                <br><input type="radio" name="cigar" value="51 - 100"> 51 - 100
                <br><input type="radio" name="cigar" value=">100"> > 100

                <p class="species_name">Moon Jelly</p>
                <img src="../public/img/Comb_Jelly.jpg" class="image">
                <br><input type="radio" name="moon" value="1 - 10"> 1 - 10
                <br><input type="radio" name="moon" value="11 - 49"> 11 - 49
                <br><input type="radio" name="moon" value="51 - 100"> 51 - 100
                <br><input type="radio" name="moon" value=">100"> > 100

                <p class="species_name">Lion's Mane</p>
                <img src="../public/img/Comb_Jelly.jpg" class="image">
                <br><input type="radio" name="lions_mane" value="1 - 10"> 1 - 10
                <br><input type="radio" name="lions_mane" value="11 - 49"> 11 - 49
                <br><input type="radio" name="lions_mane" value="51 - 100"> 51 - 100
                <br><input type="radio" name="lions_mane" value=">100"> > 100

                <p class="species_name">Stinging Sea Nettle</p>
                <img src="../public/img/Comb_Jelly.jpg" class="image">
                <br><input type="radio" name="stinging" value="1 - 10"> 1 - 10
                <br><input type="radio" name="stinging" value="11 - 49"> 11 - 49
                <br><input type="radio" name="stinging" value="51 - 100"> 51 - 100
                <br><input type="radio" name="stinging" value=">100"> > 100

                <p class="species_name">Crystal Jelly</p>
                <img src="../public/img/Comb_Jelly.jpg" class="image">
                <br><input type="radio" name="crystal" value="1 - 10"> 1 - 10
                <br><input type="radio" name="crystal" value="11 - 49"> 11 - 49
                <br><input type="radio" name="crystal" value="51 - 100"> 51 - 100
                <br><input type="radio" name="crystal" value=">100"> > 100

                <p class="species_name">Cross Jelly</p>
                <img src="../public/img/Comb_Jelly.jpg" class="image">
                <br><input type="radio" name="cross" value="1 - 10"> 1 - 10
                <br><input type="radio" name="cross" value="11 - 49"> 11 - 49
                <br><input type="radio" name="cross" value="51 - 100"> 51 - 100
                <br><input type="radio" name="cross" value=">100"> > 100

                <p class="species_name">Man of War</p>
                <img src="../public/img/Comb_Jelly.jpg" class="image">
                <br><input type="radio" name="man_of_war" value="1 - 10"> 1 - 10
                <br><input type="radio" name="man_of_war" value="11 - 49"> 11 - 49
                <br><input type="radio" name="man_of_war" value="51 - 100"> 51 - 100
                <br><input type="radio" name="man_of_war" value=">100"> > 100

                <p class="species_name">Salps</p>
                <img src="../public/img/Comb_Jelly.jpg" class="image">
                <br><input type="radio" name="salps" value="1 - 10"> 1 - 10
                <br><input type="radio" name="salps" value="11 - 49"> 11 - 49
                <br><input type="radio" name="salps" value="51 - 100"> 51 - 100
                <br><input type="radio" name="salps" value=">100"> > 100

                <p class="species_name">Freshwater Jellyfish</p>
                <img src="../public/img/Comb_Jelly.jpg" class="image">
                <br><input type="radio" name="freshwater" value="1 - 10"> 1 - 10
                <br><input type="radio" name="freshwater" value="11 - 49"> 11 - 49
                <br><input type="radio" name="freshwater" value="51 - 100"> 51 - 100
                <br><input type="radio" name="freshwater" value=">100"> > 100
            
                <p class="species_name">Other (See Photos)</p>
                <img src="../public/img/Comb_Jelly.jpg" class="image">
                <br><input type="radio" name="other" value="1 - 10"> 1 - 10
                <br><input type="radio" name="other" value="11 - 49"> 11 - 49
                <br><input type="radio" name="other" value="51 - 100"> 51 - 100
                <br><input type="radio" name="other" value=">100"> > 100
    </div> 

   <!-- #####################################
            MARINE ANIMALS QUESTIONS 
    ##################################### --> 

    <div class="question_div" id="marine_animals_questions">

        <h4 class="question">Do you see any of these species of marine animal nearby?</h4>
            <p class="species_name">Horseshoe Crabs</p>
            <img src="../public/img/Comb_Jelly.jpg" class="image">
            <br><input type="radio" name="horseshoe" value="Yes"> Yes
            <br><input type="radio" name="horseshow" value="No"> No

    </div> 

   <!-- #####################################
            WATER USE QUESTIONS
    ##################################### --> 

    <div class="question_div" id="water_use_questions">

            <h4 class="question"> How are people using the water nearby?</h4>
                    <input type="checkbox" name="water_use" value="No one is using the water"> No one is using the water
                <br><input type="checkbox" name="water_use" value="Sunbathing"> Sunbathing
                <br><input type="checkbox" name="water_use" value="Swimming"> Swimming
                <br><input type="checkbox" name="water_use" value="Fishing from shore"> Fishing from shore
                <br><input type="checkbox" name="water_use" value="Boating"> Boating
                <br><input type="checkbox" name="water_use" value="Harvesting shellfish"> Harvesting shellfish

    </div>

   <!-- #####################################
            ENVIRONMENT QUESTIONS
    ##################################### --> 

    <div class="question_div" id="environment_questions">

       <h4 class="question">How's the weather? </h4>
                <input type="radio" name="weather" value="Sunny"> Sunny
            <br><input type="radio" name="weather" value="Cloudy"> Cloudy
            <br><input type="radio" name="weather" value="Overcast"> Overcast 
            <br><input type="radio" name="weather" value="Rainy"> Rainy
            <br><input type="radio" name="weather" value="Snowy"> Snowy

        <h4 class="question">How windy is it? </h4>
                <input type="radio" name="wind" value="Low"> Low
            <br><input type="radio" name="wind" value="Medium"> Medium
            <br><input type="radio" name="wind" value="High"> High

        <h4 class="question">How clear is the water? </h4>
                <input type="radio" name="water" value="Clear"> Clear
            <br><input type="radio" name="water" value="Turbid"> Turbid

        <h4 class="question">Do you see attached seaweed, typical on rocky shore? </h4>
                <input type="radio" name="seaweed" value="Yes"> Yes
            <br><input type="radio" name="seaweed" value="No"> No

        <h4 class="question">Do you see unattached macroalgae blooms? </h4>
                <input type="checkbox" name="macroalgae" value="None observed"> None observed
            <br><input type="checkbox" name="macroalgae" value="Green Sea Lettuce"> Green Sea Lettuce
            <br><input type="checkbox" name="macroalgae" value="Red Algae (Grateloupia)"> Red Algae (Grateloupia)
            <br><input type="checkbox" name="macroalgae" value="Brown Seaweed"> Brown Seaweed
            <br>Other: <input type="text" name="macroalgae" id="macroalgae_other">

    </div>

   <!-- #####################################
            PHOTO, COMMENTS, SUBMIT FORM
    ##################################### --> 

    <div class="question_div" id="photo_comments">

        <h4 class="question">Attach up to two photos!</h4>
                <input type="file" name="photo">
        
        <h4 class="question">Any last comments?</h4>
                <input type="text" name="comments">

        <input type="submit">

    </div>

    </form>
    </div>

   <!-- * * * * * * * * * * * * * * * * * 
            Javascript stuff


        For Reference:

        {
            "lat": -74.048730,
            "lng": 100.2932,
            "species_counts": {"Comb Jelly": "5-10", "Moon jelly": "10-20"}, // other options are 'cucumber or basket comb jelly', 'lion’s mane', 'stinging sea nettle', 'crystal jelly', 'cross jelly', 'man of war', 'salps', 'freshwater jellyfish', 'other', 'i don’t know. see photos.' 
            "nearby_species": ["Horseshoe crabs"],
            "microalgae_blooms": ["Green Sea lettuce (Ulva)", "Red algae (Grateloupia)"], // (or ["None observed"])
            "water_clarity": "Turbid",
            "attached_seaweed": true,
            "water_uses": ["Sunbathing", "Fishing from shore"], // (or ["No one is using the water"]) 
            "time_of_day": "11:15 AM",
            "date": "4/19/2016"
        }

    * * * * * * * * * * * * * * * * * * --> 

    <script type='text/javascript'>

        // Show & hide divs based on next/prev button clicks

        $(document).ready(function(){

            $('#form').children().not(".visible").hide();

        })

        $('#next_text').click(function(e){
            e.preventDefault();

            $('.visible').next().toggle(function(){
                $(this).toggleClass("visible");
            });
            
            $('.visible').first().toggle(function(){
                $(this).toggleClass("visible");
            });

        });

        $('#prev_text').click(function(e){
            e.preventDefault();

            $('.visible').prev().toggle(function(){
                $(this).toggleClass("visible");
            });
            
            $('.visible').last().toggle(function(){
                $(this).toggleClass("visible");
            });
            
        });


        // Send Form Data

        $('#form').submit(function(event){

            // ######## NOTES ######## 
            //
            // 1. edit the jellyfish names in the python file
            // 2. edit the microalgae blooms to be macroalgae
            // 3. weather thing???
            //
            // #######################


            event.preventDefault(); // just 4 checking stuff. delete later

            var sighting = {};


            var species_counts_obj = {}; 
            var nearby_species_obj = [];

            // Macroalgae? Microalgae?
            var microalgae_blooms_obj = $("input[name=macroalgae]:checked").map(function(){
                return this.value;
            }).get();
            microalgae_blooms_obj.push($('#macroalgae_other').val());

            // Water Clarity
            var water_clarity = $("input[name=water]:checked").val();

            // Attached Seaweed
            var attached_seaweed_val = $("input[name=seaweed]:checked").val();
            var attached_seaweed;
            if (attached_seaweed_val=="Yes"){
                attached_seaweed = true;
            } else if (attached_seaweed_val=="No"){
                attached_seaweed = false;
            } else { //nothing was checked
            }

            // Water Use
            var water_uses = $("input[name=water_use]:checked").map(function(){
                return this.value;
            }).get();

            // Time + Date
            var today = new Date();
            var hour = today.getHours() % 12 || 12;
            var current_time = String(hour)+":"+String(today.getMinutes());
            var current_date = String(today.getMonth())+"/"+String(today.getDate())+"/"+String(today.getFullYear());

            // SIGHTING 
            sighting["lat"] = 0; // where do i get this
            sighting["long"] = 0; // where do i get this
            sighting["species_counts"];
            sighting["nearby_species"];
            sighting["microalgae_blooms"] = microalgae_blooms_obj;
            sighting["water_clarity"] = water_clarity;
            sighting["attached_seaweed"] = attached_seaweed; 
            sighting["water_uses"] = water_uses;
            sighting["time_of_day"] = current_time;
            sighting["date"] = current_date;

            console.log(attached_seaweed);
            console.log(sighting);



        });



    </script>
    
</body>

</html>